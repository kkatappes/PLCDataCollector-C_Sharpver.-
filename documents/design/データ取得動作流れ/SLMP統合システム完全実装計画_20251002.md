# SLMPçµ±åˆã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè£…è¨ˆç”»

## ğŸ“… ä½œæˆæ—¥ãƒ»æ›´æ–°å±¥æ­´
- **ä½œæˆæ—¥**: 2025å¹´10æœˆ2æ—¥
- **å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: Andon SLMP Client - Comprehensive Device Discovery System
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0-comprehensive
- **è¨ˆç”»ç¨®åˆ¥**: çµ±åˆãƒã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒ³ï¼ˆå…¨æ—¢å­˜è¨ˆç”»ã®çµ±åˆå®Ÿè£…ï¼‰

## ğŸ¯ å®Ÿè£…ç›®æ¨™

### çµ±åˆå®Ÿè£…ã®ç›®çš„
ç¾åœ¨åˆ†æ•£ã—ã¦ã„ã‚‹ä»¥ä¸‹ã®è¨­è¨ˆæ›¸ãƒ»å®Ÿè£…è¨ˆç”»ã‚’çµ±åˆã—ã€å®Œå…¨å‹•ä½œã™ã‚‹SLMPç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ï¼š

1. **6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Ÿè£…è¨ˆç”».md** - åŸºæœ¬å‹•ä½œãƒ•ãƒ­ãƒ¼
2. **è¨­è¨ˆæ›¸æº–æ‹ ãƒ­ã‚°å‡ºåŠ›_Step4ç”Ÿãƒ‡ãƒ¼ã‚¿è¨˜éŒ²_å®Œå…¨å®Ÿè£…è¨ˆç”»_20241001.md** - ãƒ­ã‚°ãƒ»ç”Ÿãƒ‡ãƒ¼ã‚¿è¨˜éŒ²
3. **Complete_Unified_Logging_System_Design.md** - ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
4. **PLC_Connection_Diagnostic_Integration_Plan.md** - PLCæ¥ç¶šè¨ºæ–­æ©Ÿèƒ½
5. **Q00CPU_UDPé€šä¿¡å¯¾å¿œ_å®Œå…¨è§£æ±ºãƒ—ãƒ©ãƒ³_20251002.md** - Q00CPUå¯¾å¿œ

## ğŸ“Š ç¾çŠ¶åˆ†æãƒ»ã‚®ãƒ£ãƒƒãƒ—åˆ†æ

### âœ… å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ï¼ˆç¢ºèªæ¸ˆã¿ï¼‰

#### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸºç›¤
- **ä¾å­˜æ€§æ³¨å…¥**ï¼šProgram.cs ã§DIè¨­å®šå®Œäº†
- **è¨­å®šå¤–éƒ¨åŒ–**ï¼šappsettings.json ã§è©³ç´°è¨­å®šå¯¾å¿œ
- **SLMPé€šä¿¡åŸºç›¤**ï¼šSlmpClient.cs ã§åŸºæœ¬é€šä¿¡æ©Ÿèƒ½å®Ÿè£…
- **çµ±åˆãƒ­ã‚°åŸºç›¤**ï¼šUnifiedLogWriter.cs ã§7ã‚¨ãƒ³ãƒˆãƒªã‚¿ã‚¤ãƒ—å¯¾å¿œ

#### 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼åŸºæœ¬æ§‹é€ 
- **IntelligentMonitoringSystem.cs**ï¼š6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…æ¸ˆã¿
- **DeviceScanner.cs**ï¼šãƒ‡ãƒã‚¤ã‚¹ã‚¹ã‚­ãƒ£ãƒ³æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿
- **DeviceDiscoveryManager.cs**ï¼šãƒ‡ãƒã‚¤ã‚¹æ¢ç´¢ç®¡ç†æ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿

#### Q00CPUå¯¾å¿œè¨­å®š
- **appsettings.json**ï¼šUDP+4Eãƒ•ãƒ¬ãƒ¼ãƒ è¨­å®šæ¸ˆã¿ï¼ˆPort: 8192, UseTcp: false, FrameVersion: "4E"ï¼‰
- **Program.cs**ï¼šQ00CPUå¯¾å¿œæ¥ç¶šè¨­å®šèª­ã¿è¾¼ã¿æ¸ˆã¿

### âŒ ä¸è¶³ã—ã¦ã„ã‚‹æ©Ÿèƒ½ï¼ˆè¦å®Ÿè£…ï¼‰

#### ğŸ”´ **æœ€å„ªå…ˆ**: SLMPãƒ•ãƒ¬ãƒ¼ãƒ ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½ã®ä¿®å¾©
**ç¾åœ¨ã®å•é¡Œ**ï¼š
- `SlmpClient.cs` ã§rawResponseDataãŒè¨˜éŒ²ã•ã‚Œã¦ã„ãªã„
- `SlmpRawDataAnalyzer` ãŒå‹•ä½œã—ãªã„ï¼ˆå…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒnullï¼‰
- è¨­è¨ˆæ›¸è¦æ±‚ã®16é€²ãƒ€ãƒ³ãƒ—å‡ºåŠ›ãŒå…¨ãæ©Ÿèƒ½ã—ã¦ã„ãªã„

**å½±éŸ¿ç¯„å›²**ï¼š
- CYCLE_COMMUNICATIONã‚¨ãƒ³ãƒˆãƒªã§ã®è©³ç´°ãƒ•ãƒ¬ãƒ¼ãƒ è§£æä¸å¯
- Step4ã§ã®ç”Ÿãƒ‡ãƒ¼ã‚¿è¨˜éŒ²ãŒå®Œå…¨ã«åœæ­¢
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚ã®é€šä¿¡è¨ºæ–­ä¸å¯

#### ğŸŸ¡ **é«˜å„ªå…ˆ**: 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Œå…¨å¯¾å¿œ
**ä¸è¶³æ©Ÿèƒ½**ï¼š
- **Step5**: éã‚¼ãƒ­ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã®æ˜ç¤ºçš„å®Ÿè£…
- **ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«**: PlcConnectionInfoã€ActiveDeviceInfoã€DeviceValueInfo
- **å€‹åˆ¥ãƒ‡ãƒã‚¤ã‚¹å€¤ç¢ºèª**: `M102=true, D205=1234` å½¢å¼ã®å…·ä½“çš„å€¤è¡¨ç¤º

#### ğŸŸ¡ **é«˜å„ªå…ˆ**: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
**æœªå®Ÿè£…æ©Ÿèƒ½**ï¼š
- **ConsoleOutputManager.cs**ï¼šã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã®JSONæ§‹é€ åŒ–è¨˜éŒ²
- **console_output.json**ï¼šäººé–“å¯èª­ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›
- **Program.csçµ±åˆ**ï¼šConsole.WriteLine ã® ConsoleOutputManager çµŒç”±å‡ºåŠ›

#### ğŸŸ¢ **ä¸­å„ªå…ˆ**: çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨æ´»ç”¨
**æœªæ´»ç”¨æ©Ÿèƒ½**ï¼š
- **PERFORMANCE_METRICS**ï¼šã‚¨ãƒ³ãƒˆãƒªã‚¿ã‚¤ãƒ—æœªå®Ÿè£…
- **IntelligentMonitoringSystem**ï¼šUnifiedLogWriter ã®å®Œå…¨æ´»ç”¨
- **PLCæ¥ç¶šè¨ºæ–­çµ±åˆ**ï¼šæ—¢å­˜ConnectionDiagnostic.cs ã®çµ±åˆ

## ğŸš€ è©³ç´°å®Ÿè£…ã‚¿ã‚¹ã‚¯ãƒ»ã‚µãƒ–ã‚¿ã‚¹ã‚¯

### **ã‚¿ã‚¹ã‚¯1**: SLMPãƒ•ãƒ¬ãƒ¼ãƒ ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ä¿®å¾© [æœ€å„ªå…ˆãƒ»ç·Šæ€¥]

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯1-1: SlmpClient.csæ‹¡å¼µ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\SlmpClient.cs`

**å®Ÿè£…å†…å®¹**:
```csharp
// é€ä¿¡ãƒ»å—ä¿¡ãƒ•ãƒ¬ãƒ¼ãƒ è¨˜éŒ²ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ 
public byte[]? LastSentFrame { get; private set; }
public byte[]? LastReceivedFrame { get; private set; }

// å…¨é€šä¿¡ãƒ¡ã‚½ãƒƒãƒ‰ã§å®Ÿè£…
// ReadBitDevicesAsync, ReadWordDevicesAsync, ReadTypeNameAsync ç­‰
private async Task<byte[]> SendAndReceiveAsync(byte[] frameData, TimeSpan timeout, CancellationToken cancellationToken)
{
    // é€ä¿¡ãƒ•ãƒ¬ãƒ¼ãƒ è¨˜éŒ²
    LastSentFrame = frameData.ToArray();

    // é€šä¿¡å®Ÿè¡Œ
    var response = await _transport.SendAndReceiveAsync(frameData, timeout, cancellationToken);

    // å—ä¿¡ãƒ•ãƒ¬ãƒ¼ãƒ è¨˜éŒ²
    LastReceivedFrame = response.ToArray();

    return response;
}
```

**æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ**:
- å®Ÿéš›ã®SLMPé€šä¿¡ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ãŒå–å¾—å¯èƒ½
- SlmpRawDataAnalyzer ã®æ­£å¸¸å‹•ä½œ
- 16é€²ãƒ€ãƒ³ãƒ—ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ è§£æã®å®Œå…¨å¾©æ—§

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯1-2: SlmpClientWithTestLoggingä¿®æ­£ï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
**å•é¡Œç®‡æ‰€**: `byte[]? rawData = null;` ã®å®Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ã¸ã®ä¿®æ­£
**ä¿®æ­£å†…å®¹**: `byte[]? rawData = _innerClient.LastReceivedFrame;`

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯1-3: CYCLE_COMMUNICATIONã‚¨ãƒ³ãƒˆãƒªå‡ºåŠ›æ¤œè¨¼
**æ¤œè¨¼é …ç›®**:
- rawdata_analysis.log ã§ã®RawDataAnalysiså‡ºåŠ›ç¢ºèª
- 16é€²ãƒ€ãƒ³ãƒ—ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç¢ºèª
- ãƒ•ãƒ¬ãƒ¼ãƒ è§£æè©³ç´°ã®å‡ºåŠ›ç¢ºèª

### **ã‚¿ã‚¹ã‚¯2**: 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Œå…¨å¯¾å¿œ [é«˜å„ªå…ˆ]

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯2-1: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®Ÿè£…
**æ–°è¦ä½œæˆ**: `C:\Users\1010821\Desktop\python\andon\andon\Core\SixStepFlowModels.cs`

**å®Ÿè£…ã‚¯ãƒ©ã‚¹**:
```csharp
// Step1ã§ä½¿ç”¨
public class PlcConnectionInfo
{
    public string IpAddress { get; set; } = string.Empty;
    public int Port { get; set; }
    public bool UseTcp { get; set; }
    public string FrameVersion { get; set; } = "4E";
    public int ReceiveTimeoutMs { get; set; }
    public int ConnectTimeoutMs { get; set; }
    public string DisplayName { get; set; } = string.Empty;
}

// Step5ã§ä½¿ç”¨
public class ActiveDeviceInfo
{
    public DeviceCode DeviceCode { get; set; }
    public uint Address { get; set; }
    public object Value { get; set; }
    public DeviceValueType ValueType { get; set; }
    public DateTime DetectedAt { get; set; }
}

// å€‹åˆ¥ãƒ‡ãƒã‚¤ã‚¹å€¤ç¢ºèªç”¨
public class DeviceValueInfo
{
    public uint Address { get; set; }
    public object Value { get; set; }
    public DeviceCode DeviceCode { get; set; }
    public string DeviceName { get; set; } = string.Empty; // "M105", "D250"ç­‰
    public DateTime ReadAt { get; set; }
}
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯2-2: IntelligentMonitoringSystem.csæ‹¡å¼µ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\IntelligentMonitoringSystem.cs`

**æ–°è¦ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ **:
```csharp
// Step1: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰PLCæ¥ç¶šæƒ…å ±ã‚’å–å¾—
public PlcConnectionInfo Step1_LoadPlcConfiguration(IConfiguration config);

// Step2: PLCæ¥ç¶šã¨æ©Ÿå™¨æƒ…å ±å–å¾— (æ—¢å­˜Step1ã‚’æ”¹åãƒ»æ‹¡å¼µ)
public async Task<(string typeName, TypeCode typeCode, string connectionInfo)> Step2_ConnectAndGetDeviceInfoAsync(
    PlcConnectionInfo connectionInfo, CancellationToken cancellationToken = default);

// Step3: ã‚·ãƒªãƒ¼ã‚ºåˆ¤å®šã¨ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰æŠ½å‡º (æ—¢å­˜Step2ã‚’æ”¹å)
public DeviceDiscoveryConfiguration Step3_DetermineSeriesAndExtractDeviceCodes(TypeCode typeCode);

// Step4: å…¨ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰ç¶²ç¾…çš„ã‚¹ã‚­ãƒ£ãƒ³ (æ—¢å­˜Step3ã‚’æ”¹åãƒ»æ‹¡å¼µ)
public async Task<List<DeviceScanResult>> Step4_ComprehensiveScanAllDevices(
    DeviceDiscoveryConfiguration configuration, CancellationToken cancellationToken = default);

// Step5: éã‚¼ãƒ­ãƒ‡ãƒ¼ã‚¿ãƒ‡ãƒã‚¤ã‚¹æŠ½å‡º (æ–°è¦)
public List<ActiveDeviceInfo> Step5_ExtractNonZeroDataDevices(List<DeviceScanResult> scanResults);

// Step6: ç¶™ç¶šç›£è¦–é–‹å§‹ (æ—¢å­˜Step4ã‚’æ”¹å)
public async Task<bool> Step6_StartContinuousMonitoring(
    List<ActiveDeviceInfo> activeDevices, CancellationToken cancellationToken = default);
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯2-3: Step5éã‚¼ãƒ­åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
**å®Ÿè£…å†…å®¹**:
```csharp
public List<ActiveDeviceInfo> Step5_ExtractNonZeroDataDevices(List<DeviceScanResult> scanResults)
{
    var activeDevices = new List<ActiveDeviceInfo>();
    var now = DateTime.Now;

    foreach (var scanResult in scanResults)
    {
        foreach (var deviceAddress in scanResult.ActiveDevices)
        {
            var value = GetDeviceValue(scanResult.DeviceCode, deviceAddress);
            bool isNonZero = IsNonZeroValue(value, scanResult.DeviceCode);

            if (isNonZero)
            {
                activeDevices.Add(new ActiveDeviceInfo
                {
                    DeviceCode = scanResult.DeviceCode,
                    Address = deviceAddress,
                    Value = value,
                    ValueType = scanResult.DeviceCode.IsBitDevice() ? DeviceValueType.Bit : DeviceValueType.Word,
                    DetectedAt = now
                });
            }
        }
    }

    return activeDevices;
}

private bool IsNonZeroValue(object value, DeviceCode deviceCode)
{
    if (deviceCode.IsBitDevice())
    {
        return value is bool boolValue && boolValue;
    }
    else
    {
        return value switch
        {
            ushort ushortValue => ushortValue != 0,
            uint uintValue => uintValue != 0,
            int intValue => intValue != 0,
            _ => false
        };
    }
}
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯2-4: å€‹åˆ¥ãƒ‡ãƒã‚¤ã‚¹å€¤ç¢ºèªæ©Ÿèƒ½
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\DeviceScanner.cs`

**DeviceScanResultæ‹¡å¼µ**:
```csharp
// æ–°è¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ 
public List<DeviceValueInfo> DeviceValues { get; set; } = new();
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ä¾‹**:
```
ğŸ“¡ M100-M107 ã‚¹ã‚­ãƒ£ãƒ³çµæœ:
  â­• M100 = false (OFF)
  â­• M101 = false (OFF)
  âœ… M102 = true (ONçŠ¶æ…‹) â† ã‚¢ã‚¯ãƒ†ã‚£ãƒ–
  â­• M103 = false (OFF)
  â­• M104 = false (OFF)
  âœ… M105 = true (ONçŠ¶æ…‹) â† ã‚¢ã‚¯ãƒ†ã‚£ãƒ–
  â­• M106 = false (OFF)
  â­• M107 = false (OFF)
  ğŸ“Š ãƒãƒƒãƒèª­ã¿å–ã‚Š: 1å›ã®é€šä¿¡ã§8å€‹å–å¾—
  ğŸ“Š ã‚¢ã‚¯ãƒ†ã‚£ãƒ–: 2å€‹ / 8å€‹ã‚¹ã‚­ãƒ£ãƒ³
```

### **ã‚¿ã‚¹ã‚¯3**: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ  [é«˜å„ªå…ˆ]

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯3-1: ConsoleOutputManager.csä½œæˆ
**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\ConsoleOutputManager.cs`

**ã‚¯ãƒ©ã‚¹æ§‹é€ **:
```csharp
namespace SlmpClient.Core
{
    public class ConsoleOutputManager : IAsyncDisposable
    {
        private readonly ILogger<ConsoleOutputManager> _logger;
        private readonly string _outputFilePath;
        private readonly JsonSerializerOptions _jsonOptions;
        private readonly Channel<ConsoleEntry> _outputQueue;
        private readonly SemaphoreSlim _writeSemaphore;

        public async Task WriteInfoAsync(string message, string category = "General",
                                        int? stepNumber = null, object? context = null);
        public async Task WriteProgressAsync(string message, int stepNumber,
                                            string phaseInfo, double? progressPercentage = null);
        public async Task WriteResultAsync(string message, int stepNumber,
                                          string phaseInfo, object? resultData = null);
        public async Task WriteErrorAsync(string message, string category = "General",
                                         int? stepNumber = null, object? errorDetails = null);
        public async Task WriteHeaderAsync(string message, string headerType,
                                          object? context = null);
    }
}
```

**ConsoleEntryãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```csharp
public class ConsoleEntry
{
    public string EntryType { get; set; } = string.Empty;
    public DateTime Timestamp { get; set; } = DateTime.Now;
    public string SessionId { get; set; } = string.Empty;
    public string Level { get; set; } = "Information";
    public string Category { get; set; } = "General";
    public string Message { get; set; } = string.Empty;
    public ConsoleContext? Context { get; set; }
}
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯3-2: Program.csçµ±åˆå®Ÿè£…
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Program.cs`

**ä¿®æ­£å†…å®¹**:
```csharp
public class Program
{
    private static ConsoleOutputManager? _consoleOutputManager;

    public static async Task<int> Main(string[] args)
    {
        // ConsoleOutputManageråˆæœŸåŒ–
        var config = LoadConfiguration();
        var loggerFactory = LoggerFactory.Create(builder => builder.AddConsole());
        _consoleOutputManager = new ConsoleOutputManager(
            loggerFactory.CreateLogger<ConsoleOutputManager>(), config);

        // ãƒ˜ãƒƒãƒ€ãƒ¼å‡ºåŠ›ï¼ˆæ—¢å­˜ã®Console.WriteLineã‚’ç½®ãæ›ãˆï¼‰
        await _consoleOutputManager.WriteHeaderAsync(
            "SLMP ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆç›£è¦–ã‚·ã‚¹ãƒ†ãƒ  v2.0",
            "ApplicationTitle",
            new { Version = "2.0", SubTitle = "å…¨39ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œãƒ»å®Œå…¨æ¢ç´¢ã‚·ã‚¹ãƒ†ãƒ " });

        // é€šå¸¸ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã‚‚åŒæ™‚å®Ÿè¡Œ
        Console.WriteLine("===================================================");
        Console.WriteLine("    SLMP ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆç›£è¦–ã‚·ã‚¹ãƒ†ãƒ  v2.0");
        Console.WriteLine("===================================================");

        // ä»¥ä¸‹ã€æ—¢å­˜ã®Console.WriteLineã‚’æ®µéšçš„ã«ConsoleOutputManagerçµŒç”±ã«å¤‰æ›´
    }
}
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯3-3: appsettings.jsonæ‹¡å¼µ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\appsettings.json`

**è¿½åŠ ã‚»ã‚¯ã‚·ãƒ§ãƒ³**:
```json
{
  "ConsoleOutputSettings": {
    "EnableCapture": true,
    "OutputFilePath": "logs/console_output.json",
    "OutputLevel": "Information",
    "EnableFileRotation": true,
    "MaxFileSizeMB": 10,
    "MaxFileCount": 5,
    "FlushIntervalMs": 1000
  }
}
```

### **ã‚¿ã‚¹ã‚¯4**: çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨æ´»ç”¨ [ä¸­å„ªå…ˆ]

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯4-1: PERFORMANCE_METRICSã‚¨ãƒ³ãƒˆãƒªå®Ÿè£…
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\UnifiedLogWriter.cs`

**è¿½åŠ ãƒ¡ã‚½ãƒƒãƒ‰**:
```csharp
/// <summary>
/// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¨ãƒ³ãƒˆãƒªã‚’å‡ºåŠ›
/// </summary>
public async Task WritePerformanceMetricsAsync(PerformanceMetricsInfo metricsInfo)
{
    var entry = new
    {
        EntryType = "PERFORMANCE_METRICS",
        Timestamp = DateTime.Now,
        SessionId = metricsInfo.SessionId,
        PerformanceData = new
        {
            NetworkQuality = metricsInfo.NetworkQuality,
            SlmpPerformance = metricsInfo.SlmpPerformance,
            SystemResource = metricsInfo.SystemResource
        }
    };

    await WriteLogEntryAsync(entry);
}
```

**ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¿½åŠ **:
```csharp
public class PerformanceMetricsInfo
{
    public string SessionId { get; set; } = string.Empty;
    public NetworkQualityData NetworkQuality { get; set; } = new();
    public SlmpPerformanceData SlmpPerformance { get; set; } = new();
    public SystemResourceData SystemResource { get; set; } = new();
}
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯4-2: IntelligentMonitoringSystemçµ±åˆãƒ­ã‚°æ´»ç”¨
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\IntelligentMonitoringSystem.cs`

**å®Ÿè£…å†…å®¹**:
```csharp
// ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ä¿®æ­£ï¼ˆUnifiedLogWriterä¾å­˜æ€§æ³¨å…¥ç¢ºèªï¼‰
// RunSixStepFlowAsync ãƒ¡ã‚½ãƒƒãƒ‰ä¿®æ­£
public async Task<SixStepFlowResult> RunSixStepFlowAsync(IConfiguration config, CancellationToken cancellationToken = default)
{
    var sessionId = $"session_{DateTime.Now:yyyyMMdd_HHmmss}";

    // ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹è¨˜éŒ²
    await _unifiedLogWriter.WriteSessionStartAsync(new SessionStartInfo
    {
        SessionId = sessionId,
        ProcessId = Environment.ProcessId,
        ApplicationName = "Andon SLMP Client",
        Version = "2.0.0-comprehensive"
    });

    try
    {
        // Step1-6å®Ÿè¡Œ...

        // ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†è¨˜éŒ²
        await _unifiedLogWriter.WriteSessionEndAsync(new SessionEndInfo
        {
            SessionId = sessionId,
            Duration = executionTime,
            FinalStatus = "æ­£å¸¸çµ‚äº†"
        });
    }
    catch (Exception ex)
    {
        await _unifiedLogWriter.WriteErrorAsync(new ErrorOccurredInfo
        {
            SessionId = sessionId,
            ErrorMessage = ex.Message,
            ErrorType = ex.GetType().Name
        });
        throw;
    }
}
```

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯4-3: DeviceScannerè©³ç´°è¨˜éŒ²çµ±åˆ
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\DeviceScanner.cs`

**ä¿®æ­£ãƒ¡ã‚½ãƒƒãƒ‰**: `ScanBitDeviceRangeAsync`, `ScanWordDeviceRangeAsync`

**å®Ÿè£…å†…å®¹**:
```csharp
// å„ãƒ‡ãƒã‚¤ã‚¹é€šä¿¡ã§CYCLE_COMMUNICATIONã‚¨ãƒ³ãƒˆãƒªå‡ºåŠ›
await _unifiedLogWriter.WriteCommunicationAsync(new CommunicationInfo
{
    SessionId = sessionId,
    CycleNumber = cycleNumber,
    DeviceCode = deviceCode.ToString(),
    DeviceAddress = $"{deviceCode}{startAddress}",
    Values = results,
    ResponseTimeMs = responseTime,
    Success = true
}, rawDataAnalysis);
```

### **ã‚¿ã‚¹ã‚¯5**: PLCæ¥ç¶šè¨ºæ–­çµ±åˆ [ä¸­å„ªå…ˆ]

#### ã‚µãƒ–ã‚¿ã‚¹ã‚¯5-1: ConnectionDiagnostic.csçµ±åˆæ´»ç”¨
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `C:\Users\1010821\Desktop\python\andon\andon\Core\ConnectionDiagnostic.cs`ï¼ˆæ—¢å­˜ï¼‰

**Program.csçµ±åˆ**:
```csharp
// RunIntelligentMonitoringAsyncå†…ã«è¨ºæ–­ãƒ•ã‚§ãƒ¼ã‚ºè¿½åŠ 
private static async Task RunIntelligentMonitoringAsync(IConfiguration config, ILoggerFactory loggerFactory)
{
    Console.WriteLine("ğŸš€ ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆç›£è¦–ã‚·ã‚¹ãƒ†ãƒ é–‹å§‹");

    // === PLCæ¥ç¶šè©³ç´°è¨ºæ–­ãƒ•ã‚§ãƒ¼ã‚º ===
    Console.WriteLine("=== PLCæ¥ç¶šè©³ç´°è¨ºæ–­é–‹å§‹ ===");

    var connectionDiagnostic = new ConnectionDiagnostic(/* parameters */);
    var diagnosticResult = await connectionDiagnostic.PerformComprehensiveDiagnosticAsync();

    Console.WriteLine($"âœ… è¨ºæ–­çµæœ: {diagnosticResult.Summary}");
    Console.WriteLine("=== 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼é–‹å§‹ ===");

    // æ—¢å­˜ã®6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ...
}
```

**æœŸå¾…ã•ã‚Œã‚‹è¨ºæ–­å‡ºåŠ›**:
```
=== PLCæ¥ç¶šè©³ç´°è¨ºæ–­é–‹å§‹ ===
ğŸ“¡ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãƒ†ã‚¹ãƒˆï¼ˆQ00CPUå¯¾å¿œï¼‰
  - UDPé€šä¿¡: 172.30.40.15:8192 â†’ OK (15ms) [é‹ç”¨ãƒãƒ¼ãƒˆ]
  - UDPé€šä¿¡: 172.30.40.15:5007 â†’ OK (12ms) [ä»£æ›¿ãƒãƒ¼ãƒˆ]
  - TCPè¨ºæ–­: ã‚¹ã‚­ãƒƒãƒ—ï¼ˆQ00CPUéå¯¾å¿œï¼‰

ğŸ­ PLCã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ï¼ˆQ00CPUæ¤œå‡ºï¼‰
  - CPUå‹å¼: Q00CPU (ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¨å®š)
  - SLMPé€šä¿¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 4E (3Eãƒ•ãƒ¬ãƒ¼ãƒ ãƒ‰ãƒ­ãƒƒãƒ—ç¢ºèª)
  - ReadTypeName: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã§ç¶™ç¶š

âœ… è¨ºæ–­çµæœ: Q00CPUæ­£å¸¸æ¥ç¶šã€UDP+4Eé€šä¿¡ã€ãƒ‡ãƒã‚¤ã‚¹ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
=== 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼é–‹å§‹ ===
```

## ğŸ”„ å®Ÿè£…é †åºãƒ»ãƒ•ã‚§ãƒ¼ã‚ºãƒ—ãƒ©ãƒ³

### Phase 1: åŸºç¤ä¿®å¾©ï¼ˆæœ€å„ªå…ˆãƒ»å³æ™‚å®Ÿè¡Œï¼‰
1. **SLMPãƒ•ãƒ¬ãƒ¼ãƒ ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ä¿®å¾©**ï¼ˆã‚¿ã‚¹ã‚¯1ï¼‰
   - SlmpClient.csæ‹¡å¼µ
   - rawDataå–å¾—æ©Ÿèƒ½å®Ÿè£…
   - 16é€²ãƒ€ãƒ³ãƒ—å‡ºåŠ›ç¢ºèª

### Phase 2: 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Œå…¨å¯¾å¿œï¼ˆé«˜å„ªå…ˆï¼‰
1. **ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®Ÿè£…**ï¼ˆã‚¿ã‚¹ã‚¯2-1ï¼‰
2. **Step5éã‚¼ãƒ­æŠ½å‡ºå®Ÿè£…**ï¼ˆã‚¿ã‚¹ã‚¯2-2, 2-3ï¼‰
3. **å€‹åˆ¥ãƒ‡ãƒã‚¤ã‚¹å€¤ç¢ºèªæ©Ÿèƒ½**ï¼ˆã‚¿ã‚¹ã‚¯2-4ï¼‰

### Phase 3: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆé«˜å„ªå…ˆï¼‰
1. **ConsoleOutputManager.csä½œæˆ**ï¼ˆã‚¿ã‚¹ã‚¯3-1ï¼‰
2. **Program.csçµ±åˆ**ï¼ˆã‚¿ã‚¹ã‚¯3-2ï¼‰
3. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µ**ï¼ˆã‚¿ã‚¹ã‚¯3-3ï¼‰

### Phase 4: çµ±åˆãƒ­ã‚°å®Œå…¨æ´»ç”¨ï¼ˆä¸­å„ªå…ˆï¼‰
1. **PERFORMANCE_METRICSå®Ÿè£…**ï¼ˆã‚¿ã‚¹ã‚¯4-1ï¼‰
2. **çµ±åˆãƒ­ã‚°æ´»ç”¨**ï¼ˆã‚¿ã‚¹ã‚¯4-2, 4-3ï¼‰

### Phase 5: è¨ºæ–­æ©Ÿèƒ½çµ±åˆï¼ˆä¸­å„ªå…ˆï¼‰
1. **PLCæ¥ç¶šè¨ºæ–­çµ±åˆ**ï¼ˆã‚¿ã‚¹ã‚¯5-1ï¼‰

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼è¨ˆç”»

### Phase 1æ¤œè¨¼: SLMPãƒ•ãƒ¬ãƒ¼ãƒ ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾—
**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. `run_rawdata_logging.bat` å®Ÿè¡Œ
2. Step4å®Ÿè¡Œä¸­ã®ãƒ­ã‚°ç¢ºèª
3. `rawdata_analysis.log` ã§rawDataãŒ16é€²æ•°ã§è¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
```json
{
  "EntryType": "CYCLE_COMMUNICATION",
  "RawDataAnalysis": {
    "RequestFrameHex": "5400000000FF03000C001400010400000000010001000064000000",
    "ResponseFrameHex": "D4000000000300020000000000000000",
    "HexDump": "00000000: D4 00 00 00 00 03 00 02  00 00 00 00 00 00 00 00 |................|"
  }
}
```

### Phase 2æ¤œè¨¼: 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Œå…¨å‹•ä½œ
**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ
2. å„ã‚¹ãƒ†ãƒƒãƒ—ã®å€‹åˆ¥å®Ÿè¡Œç¢ºèª
3. Step5ã§ã®éã‚¼ãƒ­ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºç¢ºèª

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
Step 1å®Œäº†: PLCæ¥ç¶šå…ˆ='è£½é€ ãƒ©ã‚¤ãƒ³PLC' (172.30.40.15:8192)
Step 2å®Œäº†: æ¥ç¶šæˆåŠŸ, å‹å='Q00CPU', TypeCode=Q00CPU
Step 3å®Œäº†: ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰æŠ½å‡º - M, D, X, Y ç­‰
Step 4å®Œäº†: ç·ã‚¹ã‚­ãƒ£ãƒ³æ•° 45,056å€‹
Step 5å®Œäº†: éã‚¼ãƒ­ãƒ‡ãƒ¼ã‚¿ãƒ‡ãƒã‚¤ã‚¹ 2å€‹ã‚’æŠ½å‡º (M102=true, D205=1234)
Step 6å®Œäº†: ç¶™ç¶šç›£è¦–é–‹å§‹
```

### Phase 3æ¤œè¨¼: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å‡ºåŠ›ç¢ºèª
2. `console_output.json` ç”Ÿæˆç¢ºèª
3. `rawdata_analysis.log` ã¨ã®é€£æºç¢ºèª

**æœŸå¾…ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ**:
```
logs/
â”œâ”€â”€ rawdata_analysis.log          # æŠ€è¡“è©³ç´°ãƒ­ã‚°
â”œâ”€â”€ console_output.json           # äººé–“å¯èª­ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›
â””â”€â”€ intelligent_monitoring_log.log # æ—¢å­˜ãƒ­ã‚°ï¼ˆå½±éŸ¿ãªã—ï¼‰
```

### çµ±åˆãƒ†ã‚¹ãƒˆ: å…¨ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèª
**æœ€çµ‚ç¢ºèªé …ç›®**:
- [ ] rawResponseDataãŒnullã§ãªãå®Ÿéš›ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹
- [ ] 6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼ãŒé †æ¬¡å®Ÿè¡Œã•ã‚Œã‚‹
- [ ] Step5ã§éã‚¼ãƒ­ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãæŠ½å‡ºã•ã‚Œã‚‹
- [ ] ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ­ã‚°ãŒä¸¡ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã•ã‚Œã‚‹
- [ ] å…¨7ã‚¨ãƒ³ãƒˆãƒªã‚¿ã‚¤ãƒ—ãŒé©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‡ºåŠ›ã•ã‚Œã‚‹
- [ ] Q00CPUæ¥ç¶šã§æ­£å¸¸å‹•ä½œã™ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã®ç¶™ç¶šå‹•ä½œãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹

## ğŸ“„ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´è©³ç´°

### appsettings.jsonè¿½åŠ ã‚»ã‚¯ã‚·ãƒ§ãƒ³
```json
{
  "ConsoleOutputSettings": {
    "EnableCapture": true,
    "OutputFilePath": "logs/console_output.json",
    "OutputLevel": "Information",
    "EnableFileRotation": true,
    "MaxFileSizeMB": 10,
    "MaxFileCount": 5,
    "FlushIntervalMs": 1000
  },
  "DiagnosticSettings": {
    "EnableDetailedDiagnostic": true,
    "DiagnosticLevel": "Verbose",
    "ShowNetworkStats": true,
    "ShowDeviceDetails": true,
    "StatisticsInterval": 10,
    "EnableErrorAnalysis": true,
    "Q00CpuMode": true,
    "SkipTcpDiagnostic": true,
    "AlternativePorts": [5007],
    "EnableFallbackMode": true
  },
  "UnifiedLoggingSettings": {
    "EnableJsonExport": false,
    "LogFilePath": "logs/rawdata_analysis.log"
  }
}
```

## ğŸ¯ æœŸå¾…ã•ã‚Œã‚‹æœ€çµ‚æˆæœ

### æŠ€è¡“çš„æˆæœ
1. **SLMPãƒ•ãƒ¬ãƒ¼ãƒ ç”Ÿãƒ‡ãƒ¼ã‚¿**ï¼š16é€²ãƒ€ãƒ³ãƒ—ã«ã‚ˆã‚‹å®Œå…¨ãªé€šä¿¡è¨ºæ–­
2. **6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼**ï¼šè¨­è¨ˆæ›¸æº–æ‹ ã®å®Œå…¨ãªå‹•ä½œãƒ•ãƒ­ãƒ¼
3. **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰çµ±åˆãƒ­ã‚°**ï¼šæŠ€è¡“è€…å‘ã‘è©³ç´°æƒ…å ± + é‹ç”¨è€…å‘ã‘çŠ¶æ³æƒ…å ±
4. **Q00CPUå®Œå…¨å¯¾å¿œ**ï¼šUDP+4Eãƒ•ãƒ¬ãƒ¼ãƒ é€šä¿¡ã§ã®å®‰å®šå‹•ä½œ
5. **è¨ºæ–­æ©Ÿèƒ½**ï¼šPLCæ¥ç¶šçŠ¶æ³ã®æ˜ç¢ºãªåˆ‡ã‚Šåˆ†ã‘

### é‹ç”¨çš„æˆæœ
1. **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**ï¼šå•é¡Œç™ºç”Ÿæ™‚ã®è¿…é€ŸãªåŸå› ç‰¹å®š
2. **ä¿å®ˆæ€§**ï¼šæ§‹é€ åŒ–ãƒ­ã‚°ã«ã‚ˆã‚‹å±¥æ­´ç®¡ç†ãƒ»åˆ†æã®å‘ä¸Š
3. **å¯è¦–æ€§**ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ³è¡¨ç¤º + è©³ç´°è¨˜éŒ²ã®ä¸¡ç«‹
4. **ä¿¡é ¼æ€§**ï¼šç¶™ç¶šå‹•ä½œã«ãŠã‘ã‚‹ç•°å¸¸æ¤œå‡ºãƒ»è‡ªå‹•å›å¾©ã®å‘ä¸Š

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“
```bash
run_rawdata_logging.bat å®Ÿè¡Œ
â†“
è‡ªå‹•çš„ã«æ¥ç¶šè¨ºæ–­å®Ÿè¡Œï¼ˆç´„30ç§’ï¼‰
â”œâ”€ æŠ€è¡“è©³ç´° â†’ rawdata_analysis.logè¨˜éŒ²
â””â”€ è¨ºæ–­çµæœ â†’ console_output.json + ç”»é¢è¡¨ç¤º
â†“
è¨ºæ–­çµæœè¡¨ç¤ºï¼ˆæ¥ç¶šOK/NGã€ãƒ‡ãƒ¼ã‚¿çŠ¶æ³ç­‰ï¼‰
â†“
6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼è‡ªå‹•å®Ÿè¡Œ
â”œâ”€ Step1-6ã®å€‹åˆ¥å®Ÿè¡ŒçŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
â”œâ”€ SLMPé€šä¿¡è©³ç´° â†’ rawdata_analysis.log
â””â”€ å®Ÿè¡ŒçŠ¶æ³ â†’ console_output.json + ç”»é¢è¡¨ç¤º
â†“
ç¶™ç¶šç›£è¦–é–‹å§‹ï¼ˆéã‚¼ãƒ­ãƒ‡ãƒã‚¤ã‚¹ã®ã¿ç›£è¦–ï¼‰
â”œâ”€ ç›£è¦–ãƒ‡ãƒ¼ã‚¿ â†’ rawdata_analysis.log
â””â”€ ç›£è¦–çŠ¶æ³ â†’ console_output.json + ç”»é¢è¡¨ç¤º
```

## ğŸ“š é–¢é€£è³‡æ–™ãƒ»å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å¿…é ˆå‚ç…§è³‡æ–™
1. **6ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼å®Ÿè£…è¨ˆç”».md** - åŸºæœ¬å‹•ä½œãƒ•ãƒ­ãƒ¼å®šç¾©
2. **è¨­è¨ˆæ›¸æº–æ‹ ãƒ­ã‚°å‡ºåŠ›_Step4ç”Ÿãƒ‡ãƒ¼ã‚¿è¨˜éŒ²_å®Œå…¨å®Ÿè£…è¨ˆç”»_20241001.md** - ç”Ÿãƒ‡ãƒ¼ã‚¿è¨˜éŒ²ä»•æ§˜
3. **Complete_Unified_Logging_System_Design.md** - ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰çµ±åˆãƒ­ã‚°è¨­è¨ˆ
4. **PLC_Connection_Diagnostic_Integration_Plan.md** - PLCè¨ºæ–­çµ±åˆä»•æ§˜
5. **Q00CPU_UDPé€šä¿¡å¯¾å¿œ_å®Œå…¨è§£æ±ºãƒ—ãƒ©ãƒ³_20251002.md** - Q00CPUåˆ¶ç´„äº‹é …

### æŠ€è¡“åˆ¶ç´„ãƒ»é‡è¦äº‹é …
1. **Q00CPUåˆ¶é™ã¸ã®å®Œå…¨å¯¾å¿œ**
   - TCPé€šä¿¡ã¯å®Œå…¨ã«ä½¿ç”¨ä¸å¯
   - 3Eãƒ•ãƒ¬ãƒ¼ãƒ ã¯å®Œå…¨ã«ãƒ‰ãƒ­ãƒƒãƒ—ã•ã‚Œã‚‹
   - ReadTypeNameå¤±æ•—ã«å¯¾ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†å¿…é ˆ

2. **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰çµ±åˆè¨­è¨ˆæº–æ‹ **
   - ç‹¬ç«‹è¨ºæ–­ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆç¦æ­¢
   - æ—¢å­˜7ã‚¨ãƒ³ãƒˆãƒªã‚¿ã‚¤ãƒ—ã¨ã®æ•´åˆæ€§ç¢ºä¿
   - æŠ€è¡“è©³ç´°ã¨äººé–“å¯èª­æƒ…å ±ã®é©åˆ‡ãªåˆ†é›¢

3. **SOLIDåŸå‰‡ãƒ»TDDæº–æ‹ **
   - ä¾å­˜æ€§æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¶­æŒ
   - å˜ä¸€è²¬ä»»åŸå‰‡ã®éµå®ˆ
   - Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«ã§ã®å®Ÿè£…

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

### å®Ÿè£…æ™‚ã®åˆ¶ç´„
1. **æ—¢å­˜æ©Ÿèƒ½ã®ç ´å£Šç¦æ­¢**ï¼šå¾Œæ–¹äº’æ›æ€§ã‚’å¿…ãšç¶­æŒ
2. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§**ï¼šæ—¢å­˜è¨­å®šã‚’ç ´å£Šã›ãšè¿½åŠ ã®ã¿
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿æœ€å°åŒ–**ï¼šè©³ç´°ãƒ­ã‚°ã«ã‚ˆã‚‹å‡¦ç†é€Ÿåº¦ä½ä¸‹ã‚’ç›£è¦–
4. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç®¡ç†**ï¼šå¤§é‡ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿è¨˜éŒ²ã«ã‚ˆã‚‹ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡å¢—å¤§ã«æ³¨æ„

### æˆåŠŸåŸºæº–
1. **æ©Ÿèƒ½å®Œå…¨æ€§**ï¼šå…¨è¨­è¨ˆæ›¸è¦æ±‚æ©Ÿèƒ½ã®å®Ÿè£…å®Œäº†
2. **å‹•ä½œå®‰å®šæ€§**ï¼šç¶™ç¶šå‹•ä½œã§ã®ç•°å¸¸ãƒ»ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ç„¡ã—
3. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£**ï¼šå•é¡Œç™ºç”Ÿæ™‚ã®è¿…é€ŸãªåŸå› ç‰¹å®šãŒå¯èƒ½
4. **ä¿å®ˆæ€§**ï¼šå°†æ¥çš„ãªæ©Ÿèƒ½æ‹¡å¼µãƒ»ä¿®æ­£ãŒå®¹æ˜“

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€å¾Œæ—¥å®Œå…¨ã«åŒã˜ã‚·ã‚¹ãƒ†ãƒ ã‚’å†ç¾ã™ã‚‹ãŸã‚ã®å®Œå…¨ãªå®Ÿè£…æ‰‹é †æ›¸ã§ã™ã€‚è¨˜è¼‰ã•ã‚ŒãŸé †åºã¨ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã«å¾“ã†ã“ã¨ã§ã€è¨­è¨ˆæ›¸è¦æ±‚ã®å…¨æ©Ÿèƒ½ã‚’æº€ãŸã™çµ±åˆSLMPã‚·ã‚¹ãƒ†ãƒ ãŒæ§‹ç¯‰ã§ãã¾ã™ã€‚**